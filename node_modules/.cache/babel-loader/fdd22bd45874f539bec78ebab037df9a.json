{"remainingRequest":"E:\\exercises\\Yui\\node_modules\\babel-loader\\lib\\index.js!E:\\exercises\\Yui\\src\\components\\dialog\\index.js","dependencies":[{"path":"E:\\exercises\\Yui\\src\\components\\dialog\\index.js","mtime":1565918987902},{"path":"E:\\exercises\\Yui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\exercises\\Yui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"E:\\\\exercises\\\\Yui\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { keys.push.apply(keys, Object.getOwnPropertySymbols(object)); } if (enumerableOnly) keys = keys.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport vueDialogComponent from \"./dialog\";\nimport Vue from \"vue\";\nimport Mask from \"@/components/mask\";\nvar instance;\nvar defaultOptions = {\n  value: true,\n  title: '',\n  content: '',\n  confirmText: '确认',\n  cancelText: '取消',\n  showCancelButton: true,\n  callback: function callback(action) {\n    instance[action === 'confirm' ? 'reslove' : 'reject'](action);\n  }\n};\nvar dialogConstructor = Vue.extend(vueDialogComponent);\n\nfunction isInDocument(element) {\n  return document.body.contains(element);\n}\n\nfunction createInstance() {\n  if (instance) {\n    instance.$destroy();\n  }\n\n  instance = new dialogConstructor({\n    el: document.createElement('div')\n  });\n  instance.$on('input', function (isShow) {\n    instance.isShow = isShow;\n  });\n}\n\nfunction transformOptions(options) {\n  options = _objectSpread({}, defaultOptions, {}, options);\n  return options;\n}\n\nfunction Dialog(options) {\n  return new Promise(function (reslove, reject) {\n    if (!instance || !isInDocument(instance.$el)) {\n      createInstance();\n      document.body.appendChild(instance.$el);\n    }\n\n    Object.assign(instance, transformOptions(options), {\n      reslove: reslove,\n      reject: reject\n    });\n    Mask.show(instance, {\n      maskClose: false\n    });\n  });\n}\n\nDialog.alert = Dialog;\n\nDialog.confirm = function (options) {\n  Dialog(_objectSpread({\n    showCancelButton: true\n  }, options));\n};\n\nexport default Dialog;",{"version":3,"sources":["E:\\exercises\\Yui\\src\\components\\dialog\\index.js"],"names":["vueDialogComponent","Vue","Mask","instance","defaultOptions","value","title","content","confirmText","cancelText","showCancelButton","callback","action","dialogConstructor","extend","isInDocument","element","document","body","contains","createInstance","$destroy","el","createElement","$on","isShow","transformOptions","options","Dialog","Promise","reslove","reject","$el","appendChild","Object","assign","show","maskClose","alert","confirm"],"mappings":";;;;;;;;;AAAA,OAAOA,kBAAP;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,IAAIC,QAAJ;AACA,IAAMC,cAAc,GAAG;AACnBC,EAAAA,KAAK,EAAC,IADa;AAEnBC,EAAAA,KAAK,EAAC,EAFa;AAGnBC,EAAAA,OAAO,EAAC,EAHW;AAInBC,EAAAA,WAAW,EAAC,IAJO;AAKnBC,EAAAA,UAAU,EAAC,IALQ;AAMnBC,EAAAA,gBAAgB,EAAC,IANE;AAOnBC,EAAAA,QAAQ,EAAE,kBAAAC,MAAM,EAAI;AAChBT,IAAAA,QAAQ,CAACS,MAAM,KAAK,SAAX,GAAuB,SAAvB,GAAmC,QAApC,CAAR,CAAsDA,MAAtD;AACH;AATkB,CAAvB;AAWA,IAAMC,iBAAiB,GAAGZ,GAAG,CAACa,MAAJ,CAAWd,kBAAX,CAA1B;;AAEA,SAASe,YAAT,CAAsBC,OAAtB,EAA+B;AAC3B,SAAOC,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuBH,OAAvB,CAAP;AACH;;AAED,SAASI,cAAT,GAAyB;AACrB,MAAGjB,QAAH,EAAY;AACRA,IAAAA,QAAQ,CAACkB,QAAT;AACH;;AACDlB,EAAAA,QAAQ,GAAG,IAAIU,iBAAJ,CAAsB;AAC7BS,IAAAA,EAAE,EAACL,QAAQ,CAACM,aAAT,CAAuB,KAAvB;AAD0B,GAAtB,CAAX;AAGApB,EAAAA,QAAQ,CAACqB,GAAT,CAAa,OAAb,EAAsB,UAAAC,MAAM,EAAI;AAC5BtB,IAAAA,QAAQ,CAACsB,MAAT,GAAkBA,MAAlB;AACH,GAFD;AAGH;;AAED,SAASC,gBAAT,CAA0BC,OAA1B,EAAkC;AAC9BA,EAAAA,OAAO,qBACAvB,cADA,MAEAuB,OAFA,CAAP;AAIA,SAAOA,OAAP;AACH;;AAED,SAASC,MAAT,CAAgBD,OAAhB,EAAwB;AACpB,SAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAmB;AAClC,QAAG,CAAC5B,QAAD,IAAa,CAACY,YAAY,CAACZ,QAAQ,CAAC6B,GAAV,CAA7B,EAA4C;AACxCZ,MAAAA,cAAc;AACdH,MAAAA,QAAQ,CAACC,IAAT,CAAce,WAAd,CAA0B9B,QAAQ,CAAC6B,GAAnC;AACH;;AACDE,IAAAA,MAAM,CAACC,MAAP,CAAchC,QAAd,EAAuBuB,gBAAgB,CAACC,OAAD,CAAvC,EAAiD;AAC7CG,MAAAA,OAAO,EAAPA,OAD6C;AAE7CC,MAAAA,MAAM,EAANA;AAF6C,KAAjD;AAIA7B,IAAAA,IAAI,CAACkC,IAAL,CAAUjC,QAAV,EAAmB;AAACkC,MAAAA,SAAS,EAAC;AAAX,KAAnB;AACH,GAVM,CAAP;AAWH;;AACDT,MAAM,CAACU,KAAP,GAAeV,MAAf;;AACAA,MAAM,CAACW,OAAP,GAAiB,UAAAZ,OAAO,EAAG;AACvBC,EAAAA,MAAM;AACFlB,IAAAA,gBAAgB,EAAE;AADhB,KAECiB,OAFD,EAAN;AAIH,CALD;;AAOA,eAAeC,MAAf","sourcesContent":["import vueDialogComponent from \"./dialog\";\r\nimport Vue from \"vue\";\r\nimport Mask from \"@/components/mask\";\r\n\r\nlet instance;\r\nconst defaultOptions = {\r\n    value:true,\r\n    title:'',\r\n    content:'',\r\n    confirmText:'确认',\r\n    cancelText:'取消',\r\n    showCancelButton:true,\r\n    callback: action => {\r\n        instance[action === 'confirm' ? 'reslove' : 'reject'](action);\r\n    }\r\n}\r\nconst dialogConstructor = Vue.extend(vueDialogComponent);\r\n\r\nfunction isInDocument(element) {\r\n    return document.body.contains(element);\r\n}\r\n\r\nfunction createInstance(){\r\n    if(instance){\r\n        instance.$destroy()\r\n    }\r\n    instance = new dialogConstructor({\r\n        el:document.createElement('div')\r\n    })\r\n    instance.$on('input', isShow => {\r\n        instance.isShow = isShow;\r\n    });\r\n}\r\n\r\nfunction transformOptions(options){\r\n    options = {\r\n        ...defaultOptions,\r\n        ...options\r\n    }\r\n    return options\r\n}\r\n\r\nfunction Dialog(options){\r\n    return new Promise((reslove,reject) =>{\r\n        if(!instance || !isInDocument(instance.$el)){\r\n            createInstance()\r\n            document.body.appendChild(instance.$el)\r\n        }\r\n        Object.assign(instance,transformOptions(options),{\r\n            reslove,\r\n            reject\r\n        })\r\n        Mask.show(instance,{maskClose:false})\r\n    })\r\n}\r\nDialog.alert = Dialog;\r\nDialog.confirm = options =>{\r\n    Dialog({\r\n        showCancelButton: true,\r\n        ...options\r\n      });\r\n}\r\n\r\nexport default Dialog;\r\n\r\n"]}]}